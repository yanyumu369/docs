## 内容提要

本章首先介绍有关数制和码制的一些基本概念和术语，然后给出常用的数制和码制。此外，还将具体讲述不同数制之间的转换方法和二进制数算术运算的原理和方法。

## 1.1 概述

- **数制**：用数码表示数量的大小时，多位数码中**每一位的构成方法**和**从低位到高位的进位规则**称为数制。
- **算数运算**：当两个数码分别表示两个数量的大小时，可以进行数量间的**加**、**减**、**乘**、**除**等运算，这一类运算称为算数运算。
- **代码**：在用不同的数码表示**不同的事物**或**事物的不同状态**时，这些数码已经不再具有表示数量大小的含义，它们只是代号而已，这类代号称为代码。
- **码制**：为了便于记忆和查找，在编制代码时总要遵循一定的规则，这些规则就称为码制。如美国信息交换标准代码（ASCⅡ 码）。

## 1.2 几种常用的数制

多位任意进制（$N$ 进制）数字展开式的普遍形式：
$$D=\sum k_i \times N^i$$
式中 $M$ 称为计数的**基数**，$k_i$ 是第 $i$ 位的**系数**，$N^i$ 称为第 $i$ 位的**权**。若整数部分的位数是 $n$，小数部分的位数为 $m$，则整数部分的最高位为 $n-1$，最低位为 $0$；小数部分的最高位为 $-1$，最低位为 $-m$。

如：$(143.75)_{10} = 1\times10^2 + 4\times10^1 +3\times10^0 + 7\times10^{-1} + 5\times10^{-2}$。有时用脚注 B（Binary）表示二进制，D（Decimal）表示十进制，O（Octal）表示八进制，H（Hexadecimal）表示十六进制。

## 1.3 不同数制间的转换

- <mark>十进制转换为二进制：整数部分除以 2 取余数部分，小数部分乘以 2 取整数部分</mark>。也可以先转换为十六进制，然后再四位一组转换为二进制，不足四位的用 0 补足。

<div align=center>
<img width=60% src="computer_science\digital_electronics\数字电子技术基础_阎石\image\整数转二进制.png"/><br>
</div>

<div align=center>
<img width=60% src="computer_science\digital_electronics\数字电子技术基础_阎石\image\小数转二进制.png"/><br>
</div>

## 1.4 二进制算数运算

##### 二进制算数运算的特点

<div align=center>
<img width=60% src="computer_science\digital_electronics\数字电子技术基础_阎石\image\二进制算数运算.png"/><br>
</div>

- 二进制数的**乘法**运算可以通过若干次的“**被乘数（或零）左移 1 位**”和“**被乘数（或零）与部分积相加**”这两种操作完成；
- 二进制数的**除法**运算可以通过若干次的“**除数右移 1 位**”和“**从被除数或余数中减去除数**”这两种操作完成；
- 如果我们再能设法将减法操作转化为某种形式的加法操作，那么加、减、乘、除运算就全部可以用“**移位**”和“**相加**”两种操作实现了。

##### 原码、反码和补码

**原码**：通常在二进制数的前面增加 1 位符号位来表示数的正、负。符号位为 0 表示这个数是正数，符号位为 1 表示这个数是负数，这种形式的数称为原码。

**补码**（Complement）：因为 5 和 7 相加正好等于产生进位的模数 12，所以我们称 7 为 -5 对模 12 的补数，也称为补码。

<mark>舍弃进位的条件下，减去某个数可以用加上它的补码来代替</mark>。例如 $(1011)_2 - (0111)_2 = (0100)_2$ 的减法运算，在舍弃进位的条件下，可以用 $(1011)_2 + (1001)_2 = (0100)_2$ 的加法运算代替。因为 4 位二进制数的进位基数是 16（$(10000)_2$），所以 $(1001)_2$（9）恰好是 $(-0111)_2$（-7）对模 16 的补码。

对于有效数字（**不包括符号位**）为 $n$ 位的二进制数 $N$，它的补码 $(N)_{\mathrm{COMP}}$ 表示方法为：

<div align=center>
<img height=45 src="computer_science\digital_electronics\数字电子技术基础_阎石\image\补码.png"/><br>
</div>
即正数（当符号位为 0 时）的补码与原码相同，负数（当符号位为 1 时）的补码等于 $2^n - N$。符号位保持不变。

为了避免在求补码的过程中做减法运算，通常是先求出 $N$ 的反码 $(N)_{\mathrm{INV}}$，然后在负数的反码上加 1 而得到补码。二进制 $N$ 的反码 $(N)_{\mathrm{INV}}$ 是这样定义的：

<div align=center>
<img height=45 src="computer_science\digital_electronics\数字电子技术基础_阎石\image\反码.png"/><br>
</div>
由上式可知，当 $N$ 为负数时，$N + (N)_{\mathrm{INV}} = 2^n - 1$，而 $2^n - 1$ 是 $n$ 位全为 1 的二进制数，所以只要将 $N$ 中每一位的 1 改为 0、0 改为 1，就得到了 $(N)_{\mathrm{INV}}$。

当 $N$ 为负数时，$(N)_{\mathrm{INV}} + 1 = 2^n - N$，又知，当 $N$ 为负数时，$(N)_{\mathrm{COMP}} = 2^n - N$，由此得到
$$(N)_{\mathrm{COMP}} = (N)_{\mathrm{INV}} + 1$$
即<mark>二进制负数的补码等于它的反码加 1（取反加 1）</mark>。

##### 补码加法

- <mark>若将两个加数的符号位和来自最高有效数字位的进位相加，得到的结果（舍弃产生的进位）就是和的符号</mark>。
- 在两个同符号数相加时，它们的绝对值之和不可超过有效数字位所能表示的最大值，否则会得出错误的计算结果（溢出）。

## 1.5 几种常用的编码

### 十进制代码

为了用二进制代码表示十进制数的 0\~9 这十个状态，二进制代码至少应当有 4 位。4 位二进制代码一共有十六个（0000\~1111），取其中哪十个以及如何与 0\~9 相对应，有许多种方案。

<div align=center>
<img width=80% src="computer_science\digital_electronics\数字电子技术基础_阎石\image\十进制代码.png"/><br>
</div>

1. 8421 码
   - 8421 码又称 BCD（Binary Coded Decimal）码，是十进制代码中最常用的一种。
   - 在这种编码方式中，每一位二值代码的 1 都代表一个固定数值，将每一位的 1 代表的十进制数加起来，得到的结果就是它所代表的十进制数码。
   - 由于代码中从左到右每一位的 1 分别表示 8、4、2、1，所以将这种代码称为 8421 码。每一位的 1 代表的十进制数称为这一位的权。8421 码中每一位的权是固定不变的，它属于**恒权代码**。
2. 余 3 码
   - 余 3 码的编码规则与 8421 码不同，如果把每一个余 3 码看作 4 位二进制数，则它的数值要比它所表示的十进制数码多 3，故而将这种代码称为余 3 码。
   - 如果将两个余 3 码相加，所得的和将比十进制数和所对应的二进制数多 6。因此，在用余 3 码做十进制加法运算时，若两数之和为 10，正好等于二进制数的 16，于是便从高位自动产生进位信号。
   - 此外，从表 1.5.1 中还可以看出，0 和 9、1 和 8、2 和 7、3 和 6、4 和 5 的余 3 码互为反码，这对于求取对 10 的补码是很方便的。
   - 余 3 码不是恒权代码。如果试图将每个代码视为二进制数，并使它等效的十进制数与所表示的代码相等，那么代码中每一位的 1 所代表的十进制数在各个代码中不能是固定的。
3. 2421 码
   - 2421 码是一种恒权代码，它的 0 和 9、1 和 8、2 和 7、3 和 6、4 和 5 也互为反码，这个特点和余 3 码相仿。
4. 5211 码
   - 5211 码是另一种恒权代码。待学了第六章中计数器的分频作用后可以发现，如果按 8421 码接成十进制计数器，则连续输入计数脉冲时，4 个触发器输出脉冲对于计数脉冲的分频比从低位到高位依次为 5:2:1:1。可见，5211 码每一位的权正好与 8421 码十进制计数器 4 个触发器输出脉冲的分频比相对应。这种对应关系在构成某些数字系统时很有用。
5. 余 3 循环码
   - 余 3 循环码是一种变权码，每一位的 1 在不同代码中并不代表固定的数值。它的主要特点是**相邻的两个代码之间仅有一位的状态不同**。

### 格雷码

格雷码（Gray Code）又称循环码。从表 1.5.2 的 4 位格雷码编码表中可以看出格雷码的构成方法，这就是每一位的状态变化都按一定的顺序循环。如果从 0000 开始，最右边一位的状态按 0110 顺序循环变化，右边第二位的状态按 00111100 顺序循环变化，右边第三位按 0000111111110000 顺序循环变化。可见，自右向左，每一位状态循环中连续的 0、1 数目增加一倍。由于 4 位格雷码只有 16 个，所以最左边一位的状态只有半个循环，即 0000000011111111。按照上述原则，我们就很容易得到更多位数的格雷码。

与普通的二进制代码相比，格雷码的最大优点就在于当它按照表 1.5.2 的编码顺序依次变化时，<mark>相邻两个代码之间只有一位发生变化</mark>。这样在代码转换的过程中就不会产生过渡“噪声”。而在普通二进制代码的转换过程中，则有时会产生**过渡噪声**。例如，第四行的二进制代码 0011 转换为第五行的 0100 过程中，如果最右边一位的变化比其他两位的变化慢，就会在一个极短的瞬间出现 0101 状态，这个状态将成为转换过程中出现的噪声。而在第四行的格雷码 0010 向第五行的 0110 转换过程中则不会出现过渡噪声。这种过渡噪声在有些情况下甚至会影响电路的正常工作，这时就必须采取措施加以避免。在第 4。9 节中我们还将进一步讨论这个问题。

<div align=center>
<img width=80% src="computer_science\digital_electronics\数字电子技术基础_阎石\image\格雷码.png"/><br>
</div>

十进制代码中的余 3 循环码就是取 4 位格雷码中的十个代码组成的，它仍然具有格雷码的优点，即两个相邻代码之间仅有一位不同。

### 美国信息交换标准代码（ASCⅡ）

**美国信息交换标准代码**（American Standard Code for Information Interchange，简称 ASCⅡ 码）是由美国国家标准化协会（ANSI）制定的一种信息代码，广泛地用于计算机和通信领域中。ASCⅡ 码已经由国际标准化组织（IS0）认定为国际通用的标准代码。

ASCⅡ 码是一组 7 位二进制代码共 128 个，其中包括表示 0\~9 的十个代码，表示大、小写英文字母的 52 个代码，32 个表示各种符号的代码以及 34 个控制码。

[ASCII Code - The extended ASCII table](https://www.ascii-code.com/)
